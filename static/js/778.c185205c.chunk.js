"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[778],{4723:function(e,n,t){t.d(n,{Z:function(){return m}});var r,a,u,i=t(168),o=t(921),c=t(6731),s=o.Z.h3(r||(r=(0,i.Z)(["\n  margin-bottom: 30px;\n  margin-top: 30px;\n  font-size: 28px;\n  text-align: center;\n"]))),p=o.Z.ul(a||(a=(0,i.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px 20px;\n  margin: 0;\n  padding: 0;\n"]))),f=(0,o.Z)(c.rU)(u||(u=(0,i.Z)(["\n  width: 100%;\n  flex-basis: calc(100% / 5 - 20px);\n\n  & img {\n    width: 100%;\n  }\n"]))),l=t(470),v=t(184),m=function(e){var n=e.movies,t=(0,l.TH)();return(0,v.jsx)(p,{children:n&&n.map((function(e){var n=e.id,r=e.img,a=e.title,u=e.name;return(0,v.jsxs)(f,{to:"/moviespage/".concat(n),state:{from:t},children:[(0,v.jsx)("img",{src:r,alt:a}),(0,v.jsx)(s,{children:a||u})]},n)}))})}},4778:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r,a,u,i=t(5861),o=t(885),c=t(4687),s=t.n(c),p=t(2791),f=t(6731),l=t(8494),v=t(9555),m=t(4723),d=t(168),g=t(921),x=g.Z.form(r||(r=(0,d.Z)(["\n  padding-top: 30px;\n  padding-bottom: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),h=g.Z.input(a||(a=(0,d.Z)(["\n  padding: 10px;\n  min-width: 300px;\n  height: 40px;\n\n  &:active,\n  &:focus {\n    outline: 1px solid black;\n  }\n"]))),w=g.Z.button(u||(u=(0,d.Z)(["\n  height: 64px;\n  width: 64px;\n"]))),y=t(184),b=function(){var e=(0,p.useState)(""),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=(0,p.useState)([]),u=(0,o.Z)(a,2),c=u[0],d=u[1],g=(0,p.useState)(null),b=(0,o.Z)(g,2),Z=b[0],_=b[1],j=(0,f.lr)({}),k=(0,o.Z)(j,2),C=k[0],F=k[1],S=C.get("query");return(0,p.useEffect)((function(){S||console.log("no movies")}),[S]),(0,p.useEffect)((function(){if(""!==t){var e=function(){var e=(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.FE)(t);case 3:n=e.sent,console.log(n),d(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.message),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}else if(S){var n=function(){var e=(0,i.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.FE)(S);case 3:n=e.sent,console.log(n),d(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),_(e.t0.message),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();n()}}),[t,S]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(x,{onSubmit:function(e){e.preventDefault(),r(e.currentTarget.elements.searchQuery.value.toLowerCase().trim()),F({query:e.currentTarget.elements.searchQuery.value.toLowerCase().trim()})},children:[(0,y.jsx)(h,{name:"searchQuery",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search..."}),(0,y.jsx)(w,{type:"submit",children:(0,y.jsx)(l.Yfv,{size:"30",color:"#fff"})})]}),Z?(0,y.jsxs)("p",{children:["No results found for '",t,"'"]}):(0,y.jsx)(m.Z,{movies:c})]})}},9555:function(e,n,t){t.d(n,{BG:function(){return p},FE:function(){return f},fU:function(){return l},sv:function(){return v},wr:function(){return s}});var r=t(5861),a=t(4687),u=t.n(a),i=t(4569),o=t.n(i),c=t(1467);o().defaults.baseURL="https://api.themoviedb.org/3",o().defaults.params={api_key:"e5517ae4303f5ec2cd4c7059ec556fc9",language:"en-US"};var s=function(){var e=(0,r.Z)(u().mark((function e(){var n,t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/trending/all/day?");case 2:return n=e.sent,t=n.data,r=(0,c.Wx)(t.results),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(n,"?"));case 2:return t=e.sent,r=t.data,a=(0,c.WC)(r),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/search/movie?query=".concat(n,"&page=1"));case 2:return t=e.sent,r=t.data,a=(0,c.Wx)(r.results),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(n,"/credits?"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.cast);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(u().mark((function e(n){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/movie/".concat(n,"/reviews?"));case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},1467:function(e,n,t){t.d(n,{aE:function(){return o},Wx:function(){return s},WC:function(){return p}});var r={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},a=t(2075),u=function(e){return e.map((function(e){return r["".concat(e)]})).join(", ")},i=function(e){return e.map((function(e){return e.name})).join(", ")},o=function(e){return e?"https://image.tmdb.org/t/p/w500/".concat(e):"".concat(a)},c=function(e){return e?e.slice(0,4):e},s=function(e){return e.map((function(e){var n=e.genres,t=void 0===n?null:n,r=e.genre_ids,a=void 0===r?null:r,s=e.id,p=e.original_title,f=e.overview,l=e.popularity,v=e.poster_path,m=e.release_date,d=e.vote_average,g=e.vote_count,x=e.original_name;return{genre:a?u(a):i(t),id:s,title:p||x,about:f,popularity:l,img:o(v),releaseDate:m?c(m):"",vote:d,votes:g}}))},p=function(e){var n=e.poster_path,t=e.title,r=e.original_title,a=e.vote_average,u=e.overview,s=e.genres,p=e.release_date;return{genre:i(s),title:r||t,about:u,img:o(n),releaseDate:p?c(p):"",vote:a}}},2075:function(e,n,t){e.exports=t.p+"static/media/noImageAvailable.ac3b9d7ddc9aab861b22.jpg"}}]);
//# sourceMappingURL=778.c185205c.chunk.js.map